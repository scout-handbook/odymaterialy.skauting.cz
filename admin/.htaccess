<FilesMatch "^main\.html$">
	Order Deny,Allow
	Deny from all
	Allow from 127.0.0.1
</FilesMatch>

# Pages rewrite
RewriteCond %{REQUEST_URI} ^/admin/(lessons|competences|images|users)$
RewriteRule (.*) /admin/ [QSA,L]

# Server push
<FilesMatch "index.php">
	Header add Link "</styles/fontello.css>;rel=preload;as=style"
	Header add Link "</styles/fontello-ie7.css>;rel=preload;as=style"
	Header add Link "</styles/lesson.css>;rel=preload;as=style"
	Header add Link "</styles/mainPage.css>;rel=preload;as=style"
	Header add Link "</admin/styles/dialog.css>;rel=preload;as=style"
	Header add Link "</admin/styles/lesson.css>;rel=preload;as=style"
	Header add Link "</admin/styles/main.css>;rel=preload;as=style"
	Header add Link "</admin/styles/sidePanel.css>;rel=preload;as=style"
	Header add Link "</scripts/tools/AfterLoadEvent.js>;rel=preload;as=script"
	Header add Link "</scripts/tools/OdyMarkdown.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/addCompetence.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/addField.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/addImage.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/changeCompetence.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/changeField.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/changeLessonCompetences.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/changeLessonField.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/changeRole.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/deleteCompetence.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/deleteField.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/deleteImage.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/actions/deleteLesson.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/lessonEditor/defaultContent.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/lessonEditor/editor.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/lessonEditor/imageSelector.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/lessonEditor/refreshPreview.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/tools/addOnClicks.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/tools/parseBoolForm.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/tools/retryAction.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/tools/request.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/mainSubviews/competence.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/mainSubviews/image.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/mainSubviews/lesson.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/mainSubviews/user.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/addLesson.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/editLesson.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/views/main.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/history.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/main.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/metadata.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/refreshLogin.js>;rel=preload;as=script"
	Header add Link "</admin/scripts/sidePanel.js>;rel=preload;as=script"
</FilesMatch>
